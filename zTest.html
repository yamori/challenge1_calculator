<html>
    <head>
        <meta charset="UTF-8">
        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
        <script>
            function removeBadChars() {
                var inputString = $("#calc_inputs").val();
                // TBD, figure out how to regex restrict input
                //$("#calc_inputs").val( inputString.replace(`[^\d+-\/*]+`,''));
                //$("#calc_inputs").val( "h");
            }
            $(document).on('keypress',function(e) {
                if(e.which == 13) {
                    var nextCalcs = $("#calc_inputs").val();
                    $("#calc_tape").val($("#calc_tape").val() + "\n" + nextCalcs);
                    $("#calc_inputs").val("");
                    console.log(nextCalcs);

                    var psconsole = $('#calc_tape');
                    if(psconsole.length) {
                        psconsole.scrollTop(psconsole[0].scrollHeight - psconsole.height());
                    }
                }
            });
            $( document ).ready(function() {
                $("#calc_inputs").val("");
                $("#calc_inputs").focus();
                $("#calc_tape").val("\n".repeat(22));
            });
        </script>
        <style>
        body {
            background-color: linen;
        }
        #calc_tape {
            font-family: 'Courier New', Courier, monospace;
            position: fixed;
            left: 50%;
            bottom: 80px;
            transform: translate(-50%, 0);
            resize: none;
        }
        input {
            font-size: larger;
            font-family: 'Courier New', Courier, monospace;
            text-align: center; 
            width: 450px;
            position: fixed;
            left: 50%;
            bottom: 10px;
            transform: translate(-50%, -50%);
            margin: 0 auto;
        }
        </style>
    </head>
    <body>
        <textarea id="calc_tape" name="w3review" rows="22" cols="40"></textarea>
        <input id="calc_inputs" placeholder="calc commands here, then 'enter'" type="text" onkeyup="removeBadChars();">
    </body>
</html>